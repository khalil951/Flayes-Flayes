{# templates/user/test.html.twig #}

{% extends 'base.html.twig' %}

{% block title %}Register{% endblock %}

{% block body %}
    <h1>Register</h1>

 


    {{ form_start(userForm, {'attr': {'onsubmit': 'return validateForm();'}}) }}
        {{ form_row(userForm.name) }}
        {% for flashType, flashMessages in app.flashes %}
        {% for flashMessage in flashMessages %}
            <div class="alert alert-{{ flashType }}" role="alert">
                {{ flashMessage }}
            </div>
        {% endfor %}
    {% endfor %}
        {{ form_row(userForm.email) }}
        {{ form_row(userForm.tel) }}
        
        {# Password field with toggle button #}
        <div>
           {{ form_row(userForm.password, {
        'attr': {
            'type': 'password',
            'autocomplete': 'new-password',
            'class': 'password-input',  
            'id': 'password'  
        }
    }) }}
            
        </div>

        {{ form_row(userForm.roles) }}
        {{ form_row(userForm.imageName) }}
        {{ form_row(userForm.status) }}
    
<div class="form-field" style="display: flex; justify-content: center;">
                    <script src="https://www.google.com/recaptcha/api.js" async defer></script>
                    <div class="g-recaptcha" data-sitekey="6LesK4gpAAAAALosDjeMzwqyYcj_4G76QX0a3HdG"></div>
                </div>
        <button type="submit">Register</button>
    {{ form_end(userForm) }}
    
   
<script>
    function validateForm() {
        var recaptchaResponse = grecaptcha.getResponse();
        if (recaptchaResponse.length === 0) {
            alert('Please complete the reCAPTCHA verification.');
            return false;
        }
        return true;
    }
</script>

{% endblock %}
